# ============================================================================
# SEEG-API - Configuration Production (Azure App Service)
# ============================================================================
# Architecture: Configuration sécurisée suivant les principes SOLID
# - Single Responsibility: Chaque variable a un rôle unique et précis
# - Separation of Concerns: Configuration séparée du code
# - Dependency Inversion: Pas de valeurs hardcodées dans le code
# - Security by Design: Validation stricte, pas de secrets faibles
# ============================================================================

# ============================================================================
# ENVIRONNEMENT
# ============================================================================
ENVIRONMENT=production
DEBUG=false
APP_NAME=One HCM SEEG Backend API
APP_VERSION=1.0.0

# ============================================================================
# BASE DE DONNÉES - Azure PostgreSQL
# ============================================================================
DATABASE_URL=postgresql+asyncpg://Sevan:Sevan%40Seeg@seeg-postgres-server.postgres.database.azure.com:5432/postgres
DATABASE_URL_SYNC=postgresql://Sevan:Sevan%40Seeg@seeg-postgres-server.postgres.database.azure.com:5432/postgres

# ============================================================================
# SÉCURITÉ - JWT & Authentication
# ============================================================================
# ⚠️ CRITIQUE: Cette clé DOIT être changée! Minimum 32 caractères
# Pour générer: python -c "import secrets; print(secrets.token_urlsafe(48))"
SECRET_KEY=GVxt590ktWvcTL6BLttyq7CVxhhGcZ18EA34vnDZczLDIf6Gh2uHpQOahkn2LXF8
ALGORITHM=HS256
JWT_ISSUER=seeg-hcm-api
JWT_AUDIENCE=seeg-hcm-frontend
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# CORS - Configuration sécurisée
# ============================================================================
# Liste explicite recommandée avec credentials=true
ALLOWED_ORIGINS=https://www.seeg-talentsource.com,https://seeg-hcm.vercel.app,https://seeg-backend-api.azurewebsites.net
ALLOWED_CREDENTIALS=true

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# CACHE - Redis (Optionnel - laisser vide pour désactiver)
# ============================================================================
REDIS_URL=
CELERY_BROKER_URL=
CELERY_RESULT_BACKEND=

# ============================================================================
# MONITORING - Azure Application Insights
# ============================================================================
APPLICATIONINSIGHTS_CONNECTION_STRING=
ENABLE_TRACING=true
METRICS_ENABLED=true

# ============================================================================
# PERFORMANCE - Uvicorn Workers
# ============================================================================
WORKERS=4
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
TIMEOUT_KEEP_ALIVE=5
TIMEOUT_GRACEFUL_SHUTDOWN=30

# ============================================================================
# AZURE APP SERVICE
# ============================================================================
WEBSITES_PORT=8000
WEBSITE_HEALTHCHECK_PATH=/monitoring/health
WEBSITE_HEALTHCHECK_MAXPINGFAILURES=10

# ============================================================================
# EMAIL - SMTP Configuration
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=support@seeg-talentsource.com
SMTP_PASSWORD=njev urja zsbc spfn
SMTP_TLS=true
SMTP_SSL=false
MAIL_FROM_NAME=One HCM - SEEG Talent Source
MAIL_FROM_EMAIL=support@seeg-talentsource.com

# ============================================================================
# FRONTEND
# ============================================================================
PUBLIC_APP_URL=https://www.seeg-talentsource.com

# ============================================================================
# FEATURES FLAGS
# ============================================================================
RATE_LIMIT_ENABLED=false
CREATE_INITIAL_USERS=false